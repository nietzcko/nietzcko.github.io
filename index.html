<!DOCTYPE html>
<html>
    <head> 
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/db6747f138.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="play.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
<script>
        var audio34 = new Audio('34.wav');
        var audio68 = new Audio('68.wav');
        var playbutton = document.getElementsByClassName('playbutton');
        var playing =0;

        audio34.addEventListener('timeupdate', function(){
    var buffer = .22
    if(this.currentTime > this.duration - buffer){
        this.currentTime = 0
        this.play()
        
    }});

    audio68.addEventListener('timeupdate', function(){
    var buffer = .22
    if(this.currentTime > this.duration - buffer){
        this.currentTime = 0
        this.play()
        
    }});


 function play() {
  
  audio34.loop=false;
  audio34.play();
  audio34.muted=false;
  
  audio68.loop=false;
  audio68.muted=true;
  audio68.play();
}

function threefour() {
    playing=34;

  audio68.muted=true;
  audio34.muted=false;
  document.getElementById("timesig").innerHTML='3/4'
  document.getElementById("body").setAttribute('class', 'body_black');
  document.getElementById("playbuttonid").style.color = "black"
  document.getElementById("buttonid").setAttribute('class', 'btn btn-light btn-circle btn-xl btn-center');
}
function sixeight()
{
    playing=68;
audio34.muted=true;
  audio68.muted=false;
  document.getElementById("timesig").innerHTML='6/8'
  document.getElementById("body").setAttribute('class', 'body_white');
  document.getElementById("playbuttonid").style.color = "white"
  document.getElementById("buttonid").setAttribute('class', 'btn btn-dark btn-circle btn-xl btn-center');


}

function toggle(){
    if(playing==0){
        play();
    document.getElementById("playbuttonid").setAttribute('class', 'playbutton fa-solid fa-arrows-rotate');
    threefour();
    }
    else if(playing==34){
        sixeight();
        
    }
    else{
        threefour();
        
    }
}

function stop(){
      audio34.pause();
      audio68.pause();
      playing=0;
      document.getElementById("body").setAttribute('class', 'body_white');
      document.getElementById("timesig").innerHTML='Click to play'
      document.getElementById("playbuttonid").setAttribute('class', 'playbutton fa-solid fa-circle-play');
      document.getElementById("playbuttonid").style.color = "white"
      document.getElementById("buttonid").setAttribute('class', 'btn btn-dark btn-circle btn-xl btn-center');
  }
    </script> </head>
<body id="body"class="body_white">
<div id="cont" class="container">
    <div id="place" class="placeholder"></div>
<div id="timesig" class="timesignature">Click to play</div>

<button onclick="toggle()"  type="button" id="buttonid" class="btn btn-dark btn-circle btn-xl btn-center"><i id="playbuttonid" class="playbutton fa-solid fa-circle-play"></i>
</button>
<div id="place" class="placeholder"></div>
<button onclick="stop()"  type="button" class="btn btn-light stop"><i class="fa-regular fa-circle-stop"></i></i>
</button>
</div>

</body>
</html>